<!DOCTYPE html><html><head><title>P1020</title><link rel='stylesheet' type='text/css' href='../lib/spfa.css'><link rel='stylesheet' type='text/css' href='../lib/vs2015.css'><meta charset='utf-8'></head><body><hr>
<p>title: P1020 导弹拦截
categories:</p>
<ul>
<li>code
tags:</li>
<li>DP</li>
<li>贪心</li>
</ul>
<hr>
<pre><code class="language-cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstdio&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;string.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;
<span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn=<span class="hljs-number">100005</span>;
<span class="hljs-keyword">int</span> a[maxn];
<span class="hljs-keyword">int</span> f[maxn];
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
   <span class="hljs-keyword">int</span> n=<span class="hljs-number">0</span>;
   <span class="hljs-keyword">int</span> l,r,mid;
   <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>,&amp;a[++n])!=EOF)<span class="hljs-keyword">continue</span>;
   n--;
   f[<span class="hljs-number">0</span>]=<span class="hljs-number">999999999</span>;
   <span class="hljs-keyword">int</span> ans1=<span class="hljs-number">0</span>;
   <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++){
        <span class="hljs-keyword">if</span>(f[ans1]&gt;=a[i]){
                f[ans1+<span class="hljs-number">1</span>]=a[i];
                ans1++;
           }<span class="hljs-keyword">else</span> {
                l=<span class="hljs-number">0</span>;
                r=ans1;
                <span class="hljs-keyword">while</span>(l&lt;r){
                    mid=(l+r)/<span class="hljs-number">2</span>;
                    <span class="hljs-keyword">if</span>(f[mid]&gt;=a[i])l=mid+<span class="hljs-number">1</span>;
                    <span class="hljs-keyword">else</span> {
                        r=mid;
                }
            }
               <span class="hljs-keyword">if</span>(l!=<span class="hljs-number">0</span>)f[l]=a[i];
        }
    }
    <span class="hljs-built_in">cout</span>&lt;&lt;ans1&lt;&lt;<span class="hljs-built_in">endl</span>;
    <span class="hljs-built_in">memset</span>(f,<span class="hljs-number">-1</span>,<span class="hljs-keyword">sizeof</span>(f));
       <span class="hljs-keyword">int</span> ans2=<span class="hljs-number">0</span>;
       <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++){
        <span class="hljs-keyword">if</span>(f[ans2]&lt;a[i]){
            f[ans2+<span class="hljs-number">1</span>]=a[i];
            ans2++;
           }<span class="hljs-keyword">else</span>{
            l=<span class="hljs-number">0</span>;
            r=ans2;
            <span class="hljs-keyword">while</span>(l&lt;r){
                mid=(l+r)/<span class="hljs-number">2</span>;
                <span class="hljs-keyword">if</span>(f[mid]&gt;=a[i])r=mid;
                <span class="hljs-keyword">else</span> {
                    l=mid+<span class="hljs-number">1</span>;
                  }
               }
          f[l]=a[i];
           }
       }
   <span class="hljs-built_in">cout</span>&lt;&lt;ans2&lt;&lt;<span class="hljs-built_in">endl</span>;
   <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}</code></pre>
</body></html>