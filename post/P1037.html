<!DOCTYPE html><html><head><title>P1037</title><link rel='stylesheet' type='text/css' href='../lib/spfa.css'><link rel='stylesheet' type='text/css' href='../lib/vs2015.css'><meta charset='utf-8'></head><body><hr>
<p>title: P1037产生数
categories:</p>
<ul>
<li>code
tags:</li>
<li>DFS</li>
<li>高精</li>
</ul>
<hr>
<pre><code class="language-cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdlib.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;
<span class="hljs-keyword">int</span> tag[<span class="hljs-number">10</span>][<span class="hljs-number">10</span>];
<span class="hljs-keyword">int</span> d[<span class="hljs-number">10</span>];
<span class="hljs-keyword">int</span> p[<span class="hljs-number">1000</span>];
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
    <span class="hljs-built_in">string</span> a;
    <span class="hljs-keyword">int</span> n;
    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">cin</span>&gt;&gt;a&gt;&gt;n){
        <span class="hljs-keyword">int</span> x,y;
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++){
            <span class="hljs-built_in">cin</span>&gt;&gt;x&gt;&gt;y;
            tag[x][y]=<span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k=<span class="hljs-number">1</span>;k&lt;=<span class="hljs-number">9</span>;k++){
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;=<span class="hljs-number">9</span>;i++){
                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">1</span>;j&lt;=<span class="hljs-number">9</span>;j++){
                    <span class="hljs-keyword">if</span>(tag[i][k]&amp;&amp;tag[k][j]){
                        tag[i][j]=<span class="hljs-number">1</span>;
                    }
                }
            }
        }
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">10</span>;i++){
            tag[i][i]=<span class="hljs-number">1</span>;
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>;j&lt;<span class="hljs-number">10</span>;j++){
                <span class="hljs-keyword">if</span>(tag[i][j]){
                    d[i]++;
                }
            }
        }
        <span class="hljs-keyword">int</span> z=<span class="hljs-number">0</span>;
        p[<span class="hljs-number">0</span>]=<span class="hljs-number">1</span>;
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;a[i];i++){
            z=<span class="hljs-number">0</span>;
            <span class="hljs-keyword">int</span> x=d[a[i]-<span class="hljs-string">'0'</span>];
            <span class="hljs-comment">//cout&lt;&lt;x&lt;&lt;endl;</span>
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">500</span>;i++){
                p[i]=(p[i]*x+z);
                z=p[i]/<span class="hljs-number">10</span>;
                p[i]%=<span class="hljs-number">10</span>;
                <span class="hljs-comment">//cout&lt;&lt;p[i];</span>
            }
            <span class="hljs-comment">//cout&lt;&lt;endl;</span>
        }
        <span class="hljs-keyword">int</span> i=<span class="hljs-number">500</span>;
        <span class="hljs-keyword">while</span>(p[i]==<span class="hljs-number">0</span>){
            i--;
        }
        <span class="hljs-keyword">for</span>(;i&gt;=<span class="hljs-number">0</span>;i--){
            <span class="hljs-built_in">cout</span>&lt;&lt;p[i];
        }
        <span class="hljs-built_in">cout</span>&lt;&lt;<span class="hljs-built_in">endl</span>;
    }
}</code></pre>
</body></html>